
add_executable(twoLevelNewtonLinearDC EXCLUDE_FROM_ALL twoLevelNewtonLinearDC.C )
target_include_directories(twoLevelNewtonLinearDC PRIVATE ${CMAKE_CURRENT_SOURCE_DIR})
target_link_libraries(twoLevelNewtonLinearDC XyceLib )

add_executable(twoLevelNewtonLinearTran twoLevelNewtonLinearTran.C )
target_include_directories(twoLevelNewtonLinearTran PRIVATE ${CMAKE_CURRENT_SOURCE_DIR})
target_link_libraries(twoLevelNewtonLinearTran XyceLib )

if( BUILD_TESTING AND (NOT Xyce_PARALLEL_MPI) )
  add_executable(TwoLevelTest1 TwoLevelTest1.C )
  target_include_directories(TwoLevelTest1 PRIVATE ${CMAKE_CURRENT_SOURCE_DIR})
  target_link_libraries(TwoLevelTest1 XyceLib )
  add_test( TwoLevelTest1 TwoLevelTest1  )
  set_tests_properties( TwoLevelTest1 PROPERTIES REQUIRED_FILES "compInner1.cir" )
  get_target_property(XyceLibDir XyceLib BINARY_DIR )
  set_tests_properties( TwoLevelTest1 PROPERTIES ENVIRONMENT_MODIFICATION "PATH=path_list_prepend:${XyceLibDir}")
  set_tests_properties( TwoLevelTest1 PROPERTIES LABELS "nightly;unittest;twolevel" )
  file( COPY compInner1.cir DESTINATION ${CMAKE_CURRENT_BINARY_DIR} )
endif()

if( BUILD_TESTING AND (NOT Xyce_PARALLEL_MPI)  )
  add_executable(TwoLevelTest2 TwoLevelTest2.C )
  target_include_directories(TwoLevelTest2 PRIVATE ${CMAKE_CURRENT_SOURCE_DIR})
  target_link_libraries(TwoLevelTest2 XyceLib )
  add_test( TwoLevelTest2 TwoLevelTest2  )
  set_tests_properties( TwoLevelTest2 PROPERTIES REQUIRED_FILES "compInner2.cir" )
  get_target_property(XyceLibDir XyceLib BINARY_DIR )
  set_tests_properties( TwoLevelTest2 PROPERTIES ENVIRONMENT_MODIFICATION "PATH=path_list_prepend:${XyceLibDir}")
  set_tests_properties( TwoLevelTest2 PROPERTIES LABELS "nightly;unittest;twolevel" )
  file( COPY compInner2.cir DESTINATION ${CMAKE_CURRENT_BINARY_DIR} )
endif()

if( BUILD_TESTING AND (NOT Xyce_PARALLEL_MPI)  )
  add_executable(TwoLevelTest3 TwoLevelTest3.C )
  target_include_directories(TwoLevelTest3 PRIVATE ${CMAKE_CURRENT_SOURCE_DIR})
  target_link_libraries(TwoLevelTest3 XyceLib )
  add_test( TwoLevelTest3 TwoLevelTest3  )
  set_tests_properties( TwoLevelTest3 PROPERTIES REQUIRED_FILES "compInner3.cir" )
  get_target_property(XyceLibDir XyceLib BINARY_DIR )
  set_tests_properties( TwoLevelTest3 PROPERTIES ENVIRONMENT_MODIFICATION "PATH=path_list_prepend:${XyceLibDir}")
  set_tests_properties( TwoLevelTest3 PROPERTIES LABELS "nightly;unittest;twolevel" )
  file( COPY compInner3.cir DESTINATION ${CMAKE_CURRENT_BINARY_DIR} )
endif()

if( BUILD_TESTING AND (NOT Xyce_PARALLEL_MPI)  )
  add_executable(TwoLevelTest4 TwoLevelTest4.C )
  target_include_directories(TwoLevelTest4 PRIVATE ${CMAKE_CURRENT_SOURCE_DIR})
  target_link_libraries(TwoLevelTest4 XyceLib )
  add_test( TwoLevelTest4 TwoLevelTest4  )
  set_tests_properties( TwoLevelTest4 PROPERTIES REQUIRED_FILES "compInner4.cir" )
  get_target_property(XyceLibDir XyceLib BINARY_DIR )
  set_tests_properties( TwoLevelTest4 PROPERTIES ENVIRONMENT_MODIFICATION "PATH=path_list_prepend:${XyceLibDir}")
  set_tests_properties( TwoLevelTest4 PROPERTIES LABELS "nightly;unittest;twolevel" )
  file( COPY compInner4.cir DESTINATION ${CMAKE_CURRENT_BINARY_DIR} )
endif()

if( BUILD_TESTING AND (NOT Xyce_PARALLEL_MPI)  )
  add_executable(TwoLevelTest5 TwoLevelTest5.C )
  target_include_directories(TwoLevelTest5 PRIVATE ${CMAKE_CURRENT_SOURCE_DIR})
  target_link_libraries(TwoLevelTest5 XyceLib )
  add_test( TwoLevelTest5 TwoLevelTest5  )
  set_tests_properties( TwoLevelTest5 PROPERTIES REQUIRED_FILES "compInner5.cir" )
  get_target_property(XyceLibDir XyceLib BINARY_DIR )
  set_tests_properties( TwoLevelTest5 PROPERTIES ENVIRONMENT_MODIFICATION "PATH=path_list_prepend:${XyceLibDir}")
  set_tests_properties( TwoLevelTest5 PROPERTIES LABELS "nightly;unittest;twolevel" )
  file( COPY compInner5.cir DESTINATION ${CMAKE_CURRENT_BINARY_DIR} )
endif()
