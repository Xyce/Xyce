% Sandia National Laboratories is a multimission laboratory managed and
% operated by National Technology & Engineering Solutions of Sandia, LLC, a
% wholly owned subsidiary of Honeywell International Inc., for the U.S.
% Department of Energyâ€™s National Nuclear Security Administration under
% contract DE-NA0003525.

% Copyright 2002-2019 National Technology & Engineering Solutions of Sandia,
% LLC (NTESS).



%%
%% Fixed Defects.
%%
{
\small

\begin{longtable}[h] {>{\raggedright\small}m{2in}|>{\raggedright\let\\\tabularnewline\small}m{3.5in}}
     \caption{Fixed Defects.  Note that we have two different Bugzilla systems for Sandia users.
     SON, which is on the open network, and SRN, which is on the restricted network. } \\ \hline
     \rowcolor{XyceDarkBlue} \color{white}\bf Defect & \color{white}\bf Description \\ \hline
     \endfirsthead
     \caption[]{Fixed Defects.  Note that we have two different Bugzilla systems for Sandia Users.
     SON, which is on the open network, and SRN, which is on the restricted network. } \\ \hline
     \rowcolor{XyceDarkBlue} \color{white}\bf Defect & \color{white}\bf Description \\ \hline
     \endhead

     %\textbf{bug xxxx }: Describe issue & Describe fix.  \\ \hline
     \textbf{791-SON} : SPICE\_SIN expression function segfaults with only 3 arguments & A missing conditional would cause the SPICE\_SIN function of the expression library to segfault if called with only the three mandatory arguments (offset, amplitude, frequency).  The bug was fixed, and a test case is now in the test suite to prevent a regression. \\ \hline
     \textbf{2007-SRN}: Xyce 6.4 (and some earlier versions) would overwrite the user's input netlist if both CSV output and continuation were requested &  A flaw in the output system allowed the unique combination of CSV transient output and continuation solver options to overwrite the input netlist with homotopy output if no .print HOMOTOPY line were given.  This is no longer possible, and a correctly functioning failsafe is in place at the lowest level of the output system to prevent it from ever attempting to write into the input netlist.  \\ \hline
     \textbf{777-SON}:  Xyce binaries on OS X El Capitan cannot find shared libraries & A change in security features on OS X El Capitan rendered the use of the environment variable \texttt{DYLD\_LIBRARY\_PATH} ineffective.  This caused older \Xyce{} binaries to fail with missing shared library errors.  The Xyce 6.5 binaries are built in a way so that this environment variable is no longer needed on OS X. \\ \hline
     
     \textbf{526-SON and 527-SON}: The TO, FROM, DELAY and RISE/FALL/CROSS Features of 
     .MEASURE Should Work For All Measures (where appropriate and even with noisy waveforms) & 
     The support for these qualifiers is now documented in the Reference Guide and fully tested
     in the Regression Test suite.  For noisy waveforms, the ability to explicitly set the
     ``cross level'' for the \texttt{AVG}, \texttt{DERIV}, \texttt{DUTY},\texttt{FIND-WHEN},
     \texttt{INTEG}, \texttt{MAX}, \texttt{MIN}, \texttt{PP}, \texttt{RMS} and \texttt{WHEN}
     measures was added via a new \texttt{RFC\_LEVEL} qualifier. \\ \hline   

     \textbf{695-SON}:  Support re-measure of .csd files & \Xyce{} now supports re-measure
     of both \texttt{.prn} and \texttt{.csd} output files.  However, re-measure might only
     work with .csd files generated by \Xyce{}.
     \\ \hline

     \textbf{696-SON}: Make re-measure work with .STEP & Both \texttt{.MEASURE} statements
     and re-measure now work with \texttt{.STEP} data generated by a transient (\texttt{.TRAN})
     analysis.  This now works for both \texttt{.prn} and \texttt{.csd} output files. 
     \\ \hline

     \textbf{698-SON}: Fix issues when I(), P() and W() are used in .MEASURE statements  &
     \texttt{.MEASURE} statements would fail netlist parsing if the requested branch current
     was omitted from the \texttt{.PRINT TRAN} line.  This is fixed now.
     \\ \hline

     \textbf{703-SON}: Make P(), W(), N(), expressions and transistor lead currents work 
     as the output variable (ov) on a .FOUR line & Support for P(), W(), N() and transistor
     lead currents on \texttt{.FOUR} lines was added for version 6.4 of \Xyce{}. There were still
     two outstanding issues though.  First, \texttt{.FOUR} statements would fail netlist
     parsing if the requested branch current was omitted from the \texttt{.PRINT TRAN} line. 
     Second, expressions were not allowed on a .FOUR line.  These last two issues are fixed now.
     \\ \hline 

     \textbf{719-SON}: Restart no longer does a seamless ``as though the code never stopped'' restart &
     Checkpointing and restarting in \Xyce{} has been broken for many releases because 
     not enough information was saved to restart a simulation ``as though it had never stopped.''
     Much work has been done to ensure that the restart file contains the necessary options 
     and history for the time integration method used in the netlist that generates the restart file.
     So, now \Xyce{} will truly restart the simulation ``as though it had never stopped.''
     \\ \hline 

     \textbf{721-SON}: Improve error handling for re-measure & In version 6.4 of \Xyce{}, 
     trying to re-measure either an invalid file or a valid file with an unsupported 
     extension (e.g., re-measure anything other than .PRN format in version 6.4) would 
     cause a core dump.  This has been fixed now.
     \\ \hline

     \textbf{722-SON}: Xyce-generated .CSD files for .TRAN data with .STEP 
     do not open correctly in PSpice & The issue was that Xyce was not 
     outputting a "complete header block" at the start of the data for each 
     step. This is fixed now, and the Xyce-generated .CSD files open correctly in
     PSpice v16.6.
     \\ \hline

     \textbf{724-SON}: Handle case of AT value in DERIV measure exactly equal to 
     a time value in the output file & The \texttt{DERIV} measure would fail if 
     the \texttt{AT} value was exactly equal to one of the time values in the 
     output \texttt{.PRN} file.  A simple example was:  
     {\tt
     \begin{verbatim}
     .OPTIONS OUTPUT INITIAL_INTERVAL=0.001
     .MEASURE TRAN DERIV_AT DERIV V(1) AT=0.025 
     \end{verbatim} 
     }
     This is fixed now, and the \texttt{AT} qualifier also works when it is equal to 
     the beginning or ending simulation time.
     \\ \hline

     \textbf{729-SON}:  Add warning message for unsupported .DC and .AC measure statements & 
     \Xyce{} \texttt{.MEASURE} statements do not support \texttt{DC} or \texttt{AC} modes.
     In previous versions, measure statements like those given below would be run by \Xyce{} 
     but the results would typically not be correct.  The new behavior is that \Xyce{} still 
     runs the netlist, but it now emits warning messages about the unsupported measure statements. 
     \Xyce{} does not produce any output for the unsupported AC or DC measures in either 
     stdout or in the \texttt{.mt0} file.
     {\tt
     \begin{verbatim}
     .MEASURE DC MAXDC MAX V(1)
     .MEASURE AC MAXAC MAX V(1)
     \end{verbatim}
     }
     \\ \hline 

     \textbf{730-SON}: Xyce hangs when passed a directory instead of a netlist &
     \Xyce{} did not detect when it was passed a directory path instead of a netlist file.
     So, when passed a directory path, \Xyce{} got to the ``Reading and parsing netlist...'' 
     phase, and hung.  This has been fixed.
     \\ \hline

     \textbf{769-SON}: Subcircuit interface nodes not printable in parallel for processors $>$ 3 &
     Actually the problem is when a subcircuit interface node is referenced on the .PRINT line
     AND there are more MPI processors allocated than the number of devices in the circuit.  
     This is because the alias list for this subcircuit node was not broadcast to all MPI processors.
     This has been fixed.
     
     \\ \hline
     \textbf{775-SON}: Nonlinear mutual inductor fixed scaling parameters are ignored &
     The nonlinear mutual inductor model parameters for scaling the internal $M$ and $R$ 
     variables were ignored if the user specified them.  This has been fixed so that 
     \Xyce{} now uses any provided scaling via \texttt{MVARSCALING} and \texttt{RVARSCALING}.
     \\ \hline
     
   \textbf{781-SON}: Restart output does not work with interpolations & When .options restart
     and .options output initial\_interval are used together, the output between time 0 and restart time is wrong.
     This is fixed.
     \\ \hline

\end{longtable}
}
