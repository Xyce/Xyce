% Sandia National Laboratories is a multimission laboratory managed and
% operated by National Technology & Engineering Solutions of Sandia, LLC, a
% wholly owned subsidiary of Honeywell International Inc., for the U.S.
% Department of Energyâ€™s National Nuclear Security Administration under
% contract DE-NA0003525.

% Copyright 2002-2024 National Technology & Engineering Solutions of Sandia,
% LLC (NTESS).

{\renewcommand{\arraystretch}{1.2}
  \newcommand{\category}[1]{\multicolumn{3}{c}{\smallskip\color{XyceDarkBlue}\em\bfseries #1}}
  \begin{longtable}{>{\raggedright\small}m{2.0in}>{\raggedright\small}m{1.0in}>{\raggedright\let\\\tabularnewline\small}m{2.2in}}
    \caption{Arithmetic Functions\label{Arithmetic_Functions}} \\ \hline
    \rowcolor{XyceDarkBlue}
    \color{white}\bf Function &
    \color{white}\bf Meaning & 
    \color{white}\bf Explanation \endfirsthead
    \caption[]{Arithmetic Functions} \\ \hline
    \rowcolor{XyceDarkBlue}
    \color{white}\bf Function &
    \color{white}\bf Meaning & 
    \color{white}\bf Explanation \endhead

    \category{Arithmetic functions} \\ \hline

    ABS(x) & $|x|$ & absolute value of $x$ \\ \hline

    CEIL(x) & $\lceil x \rceil$ & least integer greater or equal to variable $x$  \\ \hline

    DDT(x)
    &  $\frac{d}{dt} x(t)$ & time derivative of $x$ \\ \hline

    DDX(f(x),x)
    &  $\frac{\partial}{\partial x} f(x)$ & partial derivative of $f(x)$ with respect to $x$ \\ \hline

    FLOOR(x) & $\lfloor x \rfloor$ & greatest integer less than or equal to variable $x$  \\ \hline

    FMOD(x,y) &   & returns the remainder of x/y as a real number \\ \hline

    IF(t,x,y)
    & $x$ if $t$ is true, & $t$ is an expression using the relational
    operators in Table~\ref{Expression_Operators}.\footnotemark[2]\\
    & $y$ otherwise       & \\ \hline
    
    INT(x) & $\mathrm{sgn}(x)\lfloor |x|\rfloor$ & integer part of the real 
    variable $x$  \\ \hline

    LIMIT(x,y,z)
    & $y$ if $x < y$ & \\
    & $x$ if $y < x < z$  & $x$ limited to range $y$ to $z$ \\
    & $z$ if $x > z$ & Note: The two-argument version of limit, documented below, is a random operator. \\ \hline
    
    M(x) & $|x|$ & absolute value or magnitude of $x$ \\ \hline

    MIN(x,y) & $\min(x,y)$ & minimum of $x$ and $y$  \\ \hline

    MAX(x,y) & $\max(x,y)$ & maximum of $x$ and $y$  \\ \hline

    NINT(x) &            & rounds $x$ up or down, to the nearest integer  \\ \hline

    PWR(x,y) & $x^{y}$ & $x$ raised to $y$ power  \\ \hline
    POW(x,y) & $x^{y}$ & $x$ raised to $y$ power  \\ \hline
    PWRS(x,y)
    & $x^{y}$ if $x > 0$ & \\
    & 0 if $x = 0$ & sign corrected $x$ raised to $y$ power  \\
    & $-(-x)^{y}$ if $x < 0$ & \\ \hline

    SDT(x)
    & $\int x(t)  dt$ & time integral of $x$ \\ \hline
    
    SGN(x)
    & +1 if $x > 0$ & \\
    & 0 if $x = 0$  & sign value of $x$\\
    & -1 if $x < 0$ & \\ \hline

    SIGN(x,y) & $\mathrm{sgn}(y)|x|$ & sign of $y$ times absolute value of $x$
    \\ \hline

    STP(x)
    & 1 if $x > 0$ & step function \\
    & 0 otherwise &                                      \\ \hline

    SQRT(x) & $\sqrt{x}$ & square root of $x$ \\ \hline

    URAMP(x)
    & $x$ if $x > 0$ & ramp function \\
    & 0 otherwise &  \\ \hline

    \category{Operators related to interpolating tabular data} \\ \hline

    TABLE(x,y,z,*)
    & $f(x)$ where $f(y)=z$ & piecewise linear interpolation, multiple ($y$,$z$) pairs can be specified \\ \hline

    TABLE(``filename'', [$N$], [$log$]) &
    & Alternate specification for \texttt{TABLE}, in which data is read in from a file.
    \texttt{filename} consists of $x,y$ data pairs, one pair per line, space separated. 
    Synonymous with \texttt{TABLEFILE}.  Arguments $N$ and $log$ are optional, and related to sparsification.\footnotemark[3] 
      \\ \hline

    FASTTABLE(x,y,z,*)
    & $f(x)$ where $f(y)=z$ & piecewise linear interpolation without breakpoints, multiple ($y$,$z$) pairs can be specified \\ \hline

    FASTTABLE(``filename'', [$N$], [log]) &
    & Alternate specification for \texttt{FASTTABLE}, in which data is read in from a file.
    \texttt{filename} consists of $x,y$ data pairs, one pair per line, space separated. 
    Arguments $N$ and $log$ are optional, and related to sparsification.\footnotemark[3] 
      \\ \hline

    SPLINE(x,y,z,*)
    & 
    & Akima spline interpolation, multiple ($y$,$z$) pairs should be specified \\ \hline

    SPLINE(``filename'', $N$) &
    & Alternate specification for \texttt{SPLINE}, in which data is read in from a file.
    \texttt{filename} consists of $x,y$ data pairs, one pair per line, space separated. 
    Arguments $N$ and $log$ are optional, and related to sparsification.\footnotemark[3] 
      \\ \hline

    AKIMA(x,y,z,*)
    & 
    & Akima spline interpolation~\cite{10.1145/321607.321609}, multiple ($y$,$z$) pairs should be specified Synonymous with SPLINE. \\ \hline

    AKIMA(``filename'', [$N$], [log]) &
    & Alternate specification for \texttt{AKIMA}, in which data is read in from a file.
    \texttt{filename} consists of $x,y$ data pairs, one pair per line, space separated. 
    Arguments $N$ and $log$ are optional, and related to sparsification.\footnotemark[3] 
      \\ \hline

    CUBIC(x,y,z,*)
    & 
    & Cubic spline interpolation, multiple ($y$,$z$) pairs should be specified \\ \hline

    CUBIC(``filename'', [$N$], [log]) &
    & Alternate specification for \texttt{CUBIC}, in which data is read in from a file.
    \texttt{filename} consists of $x,y$ data pairs, one pair per line, space separated. 
    Arguments $N$ and $log$ are optional, and related to sparsification.\footnotemark[3] 
      \\ \hline

    WODICKA(x,y,z,*)
    & 
    & Wodicka spline interpolation~\cite{Engeln1996}, multiple ($y$,$z$) should be specified \\ \hline

    WODICKA(``filename'', [$N$], [log]) &
    & Alternate specification for \texttt{WODICKA}, in which data is read in from a file.
    \texttt{filename} consists of $x,y$ data pairs, one pair per line, space separated. 
    Arguments $N$ and $log$ are optional, and related to sparsification.\footnotemark[3] 
      \\ \hline

    BLI(x,y,z,*)
    & 
    & Barycentric Lagrange interpolation~\cite{Berrut_barycentriclagrange}, multiple ($y$,$z$) pairs should be specified \\ \hline

    BLI(``filename'', [$N$], [log]) &
    & Alternate specification for \texttt{BLI}, in which data is read in from a file.
    \texttt{filename} consists of $x,y$ data pairs, one pair per line, space separated. 
    Arguments $N$ and $log$ are optional, and related to sparsification.\footnotemark[3] 
      \\ \hline
    
    TABLEFILE(``filename'', [$N$], [log]) &
    & Alternate specification for \texttt{TABLE}, in which data is read in from a file.
    \texttt{filename} consists of $x,y$ data pairs, one pair per line, space separated. 
    Arguments $N$ and $log$ are optional, and related to sparsification.\footnotemark[3] 
      \\ \hline

    \category{Operators related to complex numbers} \\ \hline

    DB (x) &     & output the magnitude of $x$ in decibels \\ \hline

    IMG(x) &     & imaginary part of variable $x$ \\ \hline

    PH(x) &  & phase of variable $x$ \\ \hline 

    R(x) &      & real part of variable $x$ \\ \hline

    RE(x) &      & real part of variable $x$ \\ \hline

    M(x) & $|x|$ & absolute value or magnitude of $x$ \\ \hline

    \category{Exponential, logarithmic, and trigonometric functions} \\ \hline

    ACOS(x) & $\arccos(x)$ & result in radians \\ \hline

    ACOSH(x) & $\cosh^{-1}(x)$ & hyperbolic arccosine of $x$ \\ \hline

    ARCTAN(x) & $\arctan(x)$ & result in radians \\ \hline

    ASIN(x) & $\arcsin(x)$ & result in radians \\ \hline

    ASINH(x) & $\sinh^{-1}(x)$ & hyperbolic arcsine of $x$ \\ \hline

    ATAN(x) & $\arctan(x)$ & result in radians \\ \hline

    ATANH(x) & $\tanh^{-1}(x)$ & hyperbolic arctangent of $x$ \\ \hline

    ATAN2(x,y) & $\arctan(x/y)$ & result in radians \\ \hline

    COS(x) & $\cos(x)$ & $x$ in radians \\ \hline

    COSH(x) & $\cosh(x)$ & hyperbolic cosine of $x$ \\ \hline

    EXP(x) & $e^{x}$ & $e$ to the $x$ power \\ \hline

    LN(x) & $\ln(x)$ & log base $e$ \\ \hline

    LOG(x) & $\log(x)$ & log base $10$ \\ \hline

    LOG10(x) & $\log(x)$ & log base $10$ \\ \hline

    SIN(x) & $\sin(x)$ & $x$ in radians \\ \hline

    SINH(x) & $\sinh(x)$ & hyperbolic sine of $x$ \\ \hline

    TAN(x) & $\tan(x)$ & $x$ in radians \\ \hline

    TANH(x) & $\tanh(x)$ & hyperbolic tangent of $x$ \\ \hline

    \category{Operators related to random distributions} \\ \hline

    %AGAUSS($\mu$,$\alpha$,$n$) & $\mu-\alpha < result < \mu+\alpha$ & Random number sampled from normal distribution with mean $\mu$ and standard deviation $\alpha/n$ \\ 
    AGAUSS($\mu$,$\alpha$,$n$) &  & Random number sampled from normal distribution with mean $\mu$ and standard deviation $\alpha/n$ \\ 
    %& & The number returned will differ from the mean by at most $\alpha$ \\
    & & A deviation $\alpha$ will be $n$ standard deviations from the mean. The argument $n$ is optional, and defaults to 1.\footnotemark[1]  \\\hline 

    %GAUSS($\mu$,$\alpha$,$n$) & $\mu*(1-\alpha) < result < \mu*(1+\alpha)$ & Random number sampled from normal distribution with mean $\mu$ and standard deviation $(\alpha*\mu)/n$ \\ 
    GAUSS($\mu$,$\alpha$,$n$) &  & Random number sampled from normal distribution with mean $\mu$ and standard deviation $(\alpha*\mu)/n$ \\ 
    %& & The number returned will differ from the mean by at most $\alpha*\mu$ \\
    & & A deviation $\alpha*\mu$ will be $n$ standard deviations from the mean.  The argument $n$ is optional, and defaults to 1.\footnotemark[1]  \\\hline 

    %AUNIF($\mu$,$\alpha$) & $\mu-\alpha < result < \mu+\alpha$ & Random number sampled from uniform distribution with mean $\mu$ and standard deviation $\alpha/n$ \\ 
    AUNIF($\mu$,$\alpha$) &  & Random number sampled from uniform distribution with mean $\mu$ and standard deviation $\alpha/n$ \\ 
    & & The number returned will differ from the mean by at most $\alpha$ \footnotemark[1]  \\\hline 

    %UNIF($\mu$,$\alpha$) & $\mu*(1-\alpha) < result < \mu*(1+\alpha)$ & Random number sampled from uniform distribution with mean $\mu$ and standard deviation $(\alpha*\mu)/n$ \\ 
    UNIF($\mu$,$\alpha$) &  & Random number sampled from uniform distribution with mean $\mu$ and standard deviation $(\alpha*\mu)/n$ \\ 
    & & The number returned will differ from the mean by at most $\alpha*\mu$ \footnotemark[1]  \\\hline 

    LIMIT(x,y) &  & where $x$ is the nominal value and $y$ is the absolute variation.  It will return x+y or x-y, depending on a random number between -1 and +1. \\
    & & Note: The three-argument version of limit, documented above, is not a random operator. \\ \hline

    RAND() & & random number between 0 and 1 sampled from a uniform distribution\footnotemark[1] \\ \hline

  \end{longtable}
\footnotetext[1]{The default behavior of the random number functions \texttt{RAND}, \texttt{GAUSS},
  and \texttt{AGAUSS}, if there are not any UQ commands such as \texttt{.SAMPLING} in the netlist, 
  is to return the mean value of the operator.  If a UQ command is present, then these operators 
  can be used to define the distribution of random inputs to the UQ analysis.  However, this
  will only happen if the UQ analysis specifically requests it using the command \texttt{.SAMPLING USEEXPR=TRUE}
  Unless a specific random seed is specified using either the \texttt{-randseed} command line option, or from the netlist, 
  the random number generator will be seeded internally.  In all cases, \Xyce{} will output text to the 
  console indicating what seed is being used.}  
\footnotetext[2]{Use of the \texttt{IF} function to create an expression that has step-function-like behavior as a function of a solution variable is highly likely to produce convergence errors in simulation.  \texttt{IF} statements that have step-like behavior with an explicit time dependence are the exception, as the code will insert breakpoints at the discontinuities.  Do not use step-function or other infinite-slope transitions dependent on variables other than time. Smooth the transition so that it is more easily integrated through. See the ``Analog Behavioral Modeling'' chapter of the \Xyce{} Users' Guide~\UsersGuide{} for guidance on using the \texttt{IF} function with the B-source device.}
}
\footnotetext[3]{For all the interpolator functions, such as \texttt{TABLE} and \texttt{SPLINE}, the second and third arguments are optional.  
The second argument, $N$, toggles automatic sparsification of the data, where $N$ is the requested number of data points. 
The third argument, $log$ is a boolean.  If true, the gradient-based sparsification uses a log scale.  To specify $log$, the second parameter $N$ must be specified first.}



