% Sandia National Laboratories is a multimission laboratory managed and
% operated by National Technology & Engineering Solutions of Sandia, LLC, a
% wholly owned subsidiary of Honeywell International Inc., for the U.S.
% Department of Energy’s National Nuclear Security Administration under
% contract DE-NA0003525.

% Copyright 2002-2020 National Technology & Engineering Solutions of Sandia,
% LLC (NTESS).

{\renewcommand{\arraystretch}{1.2}
  \newcommand{\category}[1]{\multicolumn{3}{c}{\smallskip\color{XyceDarkBlue}\em\bfseries #1}}
  \begin{longtable}{>{\raggedright\small}m{1in}>{\raggedright\small}m{2in}>{\raggedright\let\\\tabularnewline\small}m{2in}}
    \caption{Arithmetic Functions\label{Arithmetic_Functions}} \\ \hline
    \rowcolor{XyceDarkBlue}
    \color{white}\bf Function &
    \color{white}\bf Meaning & 
    \color{white}\bf Explanation \endfirsthead
    \caption[]{Arithmetic Functions} \\ \hline
    \rowcolor{XyceDarkBlue}
    \color{white}\bf Function &
    \color{white}\bf Meaning & 
    \color{white}\bf Explanation \endhead

    \category{Arithmetic functions} \\ \hline

    ABS(x) & $|x|$ & absolute value of $x$ \\ \hline

    AGAUSS($\mu$,$\alpha$,$n$) & $\mu-\alpha < result < \mu+\alpha$ & Random number sampled from normal distribution with mean $\mu$ and standard deviation $\alpha/n$ \\ 
    & & The number returned will differ from the mean by at most $\alpha$ \\
    & & A deviation $\alpha$ will be $n$ standard deviations from the mean.\footnotemark[1]  \\\hline 

    CEIL(x) & $\lceil x \rceil$ & least integer greater or equal to variable $x$  \\ \hline

    GAUSS($\mu$,$\alpha$,$n$) & $\mu*(1-\alpha) < result < \mu*(1+\alpha)$ & Random number sampled from normal distribution with mean $\mu$ and standard deviation $(\alpha*\mu)/n$ \\ 
    & & The number returned will differ from the mean by at most $\alpha*\mu$ \\
    & & A deviation $\alpha*\mu$ will be $n$ standard deviations from the mean.\footnotemark[1]  \\\hline 

    DDT(x)
    &  $\frac{d}{dt} x(t)$ & time derivative of $x$ \\ \hline

    DDX(f(x),x)
    &  $\frac{\partial}{\partial x} f(x)$ & partial derivative of $f(x)$ with respect to $x$ \\ \hline

    FLOOR(x) & $\lfloor x \rfloor$ & greatest integer less than or equal to variable $x$  \\ \hline

    IF(t,x,y)
    & $x$ if $t$ is true, & $t$ is an expression using the relational
    operators in Table~\ref{Expression_Operators}.\footnotemark[2]\\
    & $y$ otherwise       & \\ \hline
    
    INT(x) & $\mathrm{sgn}(x)\lfloor |x|\rfloor$ & integer part of the real 
    variable $x$  \\ \hline

    LIMIT(x,y,z)
    & $y$ if $x < y$ & \\
    & $x$ if $y < x < z$  & $x$ limited to range $y$ to $z$ \\
    & $z$ if $x > z$ & \\ \hline
    
%% ----- COMMENTED OUT LIMIT
%% NOTE:  LIMIT is indeed defined in Xyce as described below, but this is
%% completely useless and completely incompatible with the intended use of
%% that feature.  LIMIT is supposed to be a random number generator that 
%% generates numbers from the probability function described in the 
%% right-hand column, but as implemented in Xyce, returns just the sum of the 
%% two arguments.  The intended application is Monte Carlo simulation, and as 
%% implemented, this is useless.
%% ----------------------------
%%    LIMIT(x,y) & $x+y$ & upper limit of the random variable $x$ with 
%%    probability mass function $p(z)$ given by: \\ 
%%    & & \hspace*{1in}${p(z=x+y) = 1/2}$ \\
%%    & & \hspace*{1in}${p(z=x-y) = 1/2}$ \\ \hline
    
    M(x) & $|x|$ & absolute value of $x$ \\ \hline

    MIN(x,y) & $\min(x,y)$ & minimum of $x$ and $y$  \\ \hline

    MAX(x,y) & $\max(x,y)$ & maximum of $x$ and $y$  \\ \hline

    PWR(x,y) & $x^{y}$ & $x$ raised to $y$ power  \\ \hline
    POW(x,y) & $x^{y}$ & $x$ raised to $y$ power  \\ \hline
    PWRS(x,y)
    & $x^{y}$ if $x > 0$ & \\
    & 0 if $x = 0$ & sign corrected $x$ raised to $y$ power  \\
    & $-(-x)^{y}$ if $x < 0$ & \\ \hline

    RAND()
    & $0 < result < 1$ & random number between 0 and 1 sampled from a uniform distribution\footnotemark[1] \\ \hline

    SDT(x)
    & $\int x(t)  dt$ & time integral of $x$ \\ \hline
    
    SGN(x)
    & +1 if $x > 0$ & \\
    & 0 if $x = 0$  & sign value of $x$\\
    & -1 if $x < 0$ & \\ \hline

    SIGN(x,y) & $\mathrm{sgn}(y)|x|$ & sign of $y$ times absolute value of $x$
    \\ \hline

    STP(x)
    & 1 if $x > 0$ & step function \\
    & 0 otherwise &                                      \\ \hline

    SQRT(x) & $\sqrt{x}$ & square root of $x$ \\ \hline

    TABLE(x,y,z,*)
    & $f(x)$ where $f(y)=z$ & piecewise linear interpolation, multiple ($y$,$z$) pairs can be specified \\ \hline

    URAMP(x)
    & $x$ if $x > 0$ & ramp function \\
    & 0 otherwise &  \\ \hline

    \category{Exponential, logarithmic, and trigonometric functions} \\ \hline

    ACOS(x) & $\arccos(x)$ & result in radians \\ \hline

    ACOSH(x) & $\cosh^{-1}(x)$ & hyperbolic arccosine of $x$ \\ \hline

    ARCTAN(x) & $\arctan(x)$ & result in radians \\ \hline

    ASIN(x) & $\arcsin(x)$ & result in radians \\ \hline

    ASINH(x) & $\sinh^{-1}(x)$ & hyperbolic arcsine of $x$ \\ \hline

    ATAN(x) & $\arctan(x)$ & result in radians \\ \hline

    ATANH(x) & $\tanh^{-1}(x)$ & hyperbolic arctangent of $x$ \\ \hline

    ATAN2(x,y) & $\arctan(x/y)$ & result in radians \\ \hline

    COS(x) & $\cos(x)$ & $x$ in radians \\ \hline

    COSH(x) & $\cosh(x)$ & hyperbolic cosine of $x$ \\ \hline

    EXP(x) & $e^{x}$ & $e$ to the $x$ power \\ \hline

    LN(x) & $\ln(x)$ & log base $e$ \\ \hline

    LOG(x) & $\log(x)$ & log base $10$ \\ \hline

    LOG10(x) & $\log(x)$ & log base $10$ \\ \hline

    SIN(x) & $\sin(x)$ & $x$ in radians \\ \hline

    SINH(x) & $\sinh(x)$ & hyperbolic sine of $x$ \\ \hline

    TAN(x) & $\tan(x)$ & $x$ in radians \\ \hline

    TANH(x) & $\tanh(x)$ & hyperbolic tangent of $x$ \\ \hline

  \end{longtable}
\footnotetext[1]{The random number functions \texttt{RAND}, \texttt{GAUSS},
  and \texttt{AGAUSS} return a unique number per use in an expression,
  but once evaluated this number is constant for the entire run, even
  across \texttt{.STEP} iterations.  Unless a specific seed is specified using the \texttt{-randseed} command line option, the random number generator will be seeded using the system ``time'' function.  In all cases, \Xyce{} will output text to the console indicating what seed is being used.}  
\footnotetext[2]{Use of the \texttt{IF} function to create an expression that has step-function-like behavior as a function of a solution variable is highly likely to produce convergence errors in simulation.  \texttt{IF} statements that have step-like behavior with an explicit time dependence are the exception, as the code will insert breakpoints at the discontinuities.  Do not use step-function or other infinite-slope transitions dependent on variables other than time. Smooth the transition so that it is more easily integrated through. See the ``Analog Behavioral Modeling'' chapter of the \Xyce{} User’s Guide for guidance on using the \texttt{IF} function with the B-source device.}
}
